<!DOCTYPE html>
<html>
    <head>
        <title>Stats</title>
        <link rel="stylesheet" type="text/css" href="style.css">
        <script src="app.js"></script>
    </head>
    <body>
        <header-navbar></header-navbar>

        <main>
            <h2 class="stats_header">Top Scorers</h2>
            <table class="stats">
                <thead>
                    <tr>
                        <th class="rank_column">Rank</th>
                        <th>Player</th>
                        <th>Goals</th>
                    </tr>
                </thead>
                <tbody id="tableBody">
                </tbody>
            </table>

            <h2 class="stats_header">Top Assists</h2>
            <table class="stats">
                <thead>
                    <tr>
                        <th class="rank_column">Rank</th>
                        <th>Player</th>
                        <th>Assists</th>
                    </tr>
                </thead>
                <tbody id="tableBody2">
                </tbody>
            </table>

            <h2 class="stats_header">Top Pre Assists</h2>
            <table class="stats">
                <thead>
                    <tr>
                        <th class="rank_column">Rank</th>
                        <th>Player</th>
                        <th>Pre Assists</th>
                    </tr>
                </thead>
                <tbody id="tableBody3">
                </tbody>
            </table>
        </main>

        <custom-footer>

        <script src="stat_script.js"></script>

        <script>
            var aantal = 5;  // aantal te tonen top scorers, assits and pre assits
            // Call the function automatically once the page is loaded
            window.onload = function () {
                findMostFrequentWord(7, aantal)
                    .then(data => {
                        const tableBody = document.getElementById('tableBody');

                        // Loop through the data and create rows and cells
                        data.forEach((item) => {
                            const row = document.createElement('tr'); // Create a table row

                            // Create cells for each data item
                            const numberCell = document.createElement('td');
                            numberCell.textContent = item.number;

                            const playerCell = document.createElement('td');
                            playerCell.textContent = capitalizeFirstLetter(item.player);

                            const goalsCell = document.createElement('td');
                            goalsCell.textContent = item.goals;

                            // Append cells to the row
                            row.appendChild(numberCell);
                            row.appendChild(playerCell);
                            row.appendChild(goalsCell);

                            // Append row to the table body
                            tableBody.appendChild(row);
                        });
                    })
                    .catch(error => {
                        console.error(error);
                    });


                findMostFrequentWord(8, aantal)
                    .then(data => {
                        const tableBody = document.getElementById('tableBody2');

                        // Loop through the data and create rows and cells
                        data.forEach((item) => {
                            const row = document.createElement('tr'); // Create a table row

                            // Create cells for each data item
                            const numberCell = document.createElement('td');
                            numberCell.textContent = item.number;

                            const playerCell = document.createElement('td');
                            playerCell.textContent = capitalizeFirstLetter(item.player);

                            const goalsCell = document.createElement('td');
                            goalsCell.textContent = item.goals;

                            // Append cells to the row
                            row.appendChild(numberCell);
                            row.appendChild(playerCell);
                            row.appendChild(goalsCell);

                            // Append row to the table body
                            tableBody.appendChild(row);
                        });
                    })
                    .catch(error => {
                        console.error(error);
                    });

                findMostFrequentWord(9, aantal)
                    .then(data => {
                        const tableBody = document.getElementById('tableBody3');

                        // Loop through the data and create rows and cells
                        data.forEach((item) => {
                            const row = document.createElement('tr'); // Create a table row

                            // Create cells for each data item
                            const numberCell = document.createElement('td');
                            numberCell.textContent = item.number;

                            const playerCell = document.createElement('td');
                            playerCell.textContent = capitalizeFirstLetter(item.player);

                            const goalsCell = document.createElement('td');
                            goalsCell.textContent = item.goals;

                            // Append cells to the row
                            row.appendChild(numberCell);
                            row.appendChild(playerCell);
                            row.appendChild(goalsCell);

                            // Append row to the table body
                            tableBody.appendChild(row);
                        });
                    })
                    .catch(error => {
                        console.error(error);
                    });

                findMostFrequentWord(10, 3)
                    .then(data => {
                        const tableBody = document.getElementById('tableBody4');

                        // Loop through the data and create rows and cells
                        data.forEach((item) => {
                            const row = document.createElement('tr'); // Create a table row

                            // Create cells for each data item
                            const numberCell = document.createElement('td');
                            numberCell.textContent = item.number;

                            const playerCell = document.createElement('td');
                            playerCell.textContent = capitalizeFirstLetter(item.player);

                            const goalsCell = document.createElement('td');
                            goalsCell.textContent = item.goals;

                            // Append cells to the row
                            row.appendChild(numberCell);
                            row.appendChild(playerCell);
                            row.appendChild(goalsCell);

                            // Append row to the table body
                            tableBody.appendChild(row);
                        });
                    })
                    .catch(error => {
                        console.error(error);
                    });
            };

            function capitalizeFirstLetter(string) {
                return string.charAt(0).toUpperCase() + string.slice(1);
            };
        </script>
    </body>
</html>